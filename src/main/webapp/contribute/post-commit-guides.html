---
title: Post-commit Guides
description: "Guides for handling post-commit test failures in Apache Unomi"
layout: default
---

<section class="page-header">
    <div class="container">
        <p class="section-label text-hero-label">Contribute</p>
        <h1>Post-commit Guides</h1>
    </div>
</section>

<section class="section">
    <div class="container">
        <div class="row g-5">
            <div class="col-lg-3">
                <div class="sidenav-menu">
                    <div class="menu-title">Contribute</div>
                    <ul class="list-unstyled mb-3">
                        <li><a href="index.html">Getting Started</a></li>
                    </ul>
                    <div class="menu-title mt-3">Technical Docs</div>
                    <ul class="list-unstyled mb-3">
                        <li><a href="testing.html">Testing Guide</a></li>
                        <li><a href="dependencies-guide.html">Dependencies Guide</a></li>
                    </ul>
                    <div class="menu-title mt-3">Policies</div>
                    <ul class="list-unstyled mb-3">
                        <li><a href="pre-commit-test-policies.html">Pre-commit Policies</a></li>
                        <li><a href="post-commit-test-policies.html">Post-commit Policies</a></li>
                        <li><a href="post-commit-guides.html" class="active">Post-commit Guides</a></li>
                    </ul>
                    <div class="menu-title mt-3">Committers</div>
                    <ul class="list-unstyled mb-0">
                        <li><a href="become-a-committer.html">Become a Committer</a></li>
                        <li><a href="committer-guide.html">Committer Guide</a></li>
                        <li><a href="release-guide.html">Release Guide</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-9">
            <h2>Post-commit test task guides</h2>

            <p>These guides provide steps for common post-commit test failure tasks.</p>

            <h3 id="find_specialist">Finding someone to triage a post-commit test failure</h3>

            <p>To find the proper person to triage a test failure, you can use these suggestions:</p>

            <ol>
              <li>If you can triage it yourself, go for it.</li>
              <li>Look at the GitHub blame for the files with problematic code.</li>
              <li>Ask in the <a target="_blank" href="https://the-asf.slack.com/messages/CBP2Z98Q7/">Unomi Slack chat</a>.</li>
              <li>Write to the dev list: dev@unomi.apache.org</li>
            </ol>

            <h3 id="rollback">Rolling back a commit</h3>

            <p>Rolling back is usually the fastest way to fix a failing test.  However it is often inconvenient for the original author. To help the author fix the issue, follow these steps when you rollback someone's change.</p>

            <ol>
              <li>Rollback the PR.</li>
              <li>Create a JIRA issue that contains the following information:
                <ul>
                  <li>the reason for the rollback</li>
                  <li>a link to the test failure's JIRA issue</li>
                  <li>triage information</li>
                  <li>any other relevant details</li>
                </ul>
              </li>
              <li>Assign the new JIRA issue to the original PR author.</li>
              <li>Consider re-opening the JIRA issue associated with the original PR (if there is one).</li>
              <li>Send a notification email with information about the rollback, links to the original PR and the rollback PR, and the reasons for the rollback to:
                <ul>
                  <li>dev@unomi.apache.org</li>
                  <li>the original PR author and the committer of the PR</li>
                </ul>
              </li>
              <li>Close the test failure JIRA issue. Your work is done here!</li>
            </ol>

            <h3 id="disabling">Disabling a failing test</h3>

            <p>If a test fails, our first priority is to rollback the problematic code and fix the issue. However, if both: rollback and fix will take awhile to implement, it is safer to temporarily disable the test until the fix is ready.</p>

            <p>Use caution when deciding to disable a test. When tests are disabled, contributors are no longer developing on top of fully tested code. If you decide to disable a test, use the following guidelines:</p>

            <ul>
              <li>Notify the dev@unomi.apache.org mailing list. Describe the problem and let everyone know which test you are disabling.</li>
              <li>Implement the fix and get the test back online as soon as possible.</li>
            </ul>

            <p>While the test is disabled, contributors should not push code to the failing test's coverage area. The code area is not properly tested until you fix the test.</p>
            </div>
        </div>
    </div>
</section>
